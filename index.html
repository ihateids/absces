<!DOCTYPE html>
<html lang="sk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Oneskoren√© hojenie perian√°lneho abscesu</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f5f5f5;
        padding: 10px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      h1 {
        text-align: center;
        color: #333;
        margin-bottom: 20px;
        font-size: 2em;
      }

      .intro-text {
        max-width: 900px;
        margin: 0 auto 30px;
        padding: 20px;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        line-height: 1.6;
        color: #333;
      }

      .intro-text p {
        margin-bottom: 15px;
      }

      .intro-text p:last-child {
        margin-bottom: 0;
      }

      .intro-text h3 {
        color: #667eea;
        margin-top: 20px;
        margin-bottom: 10px;
        font-size: 1.3em;
      }

      .intro-text strong {
        color: #764ba2;
        font-weight: 600;
      }

      .intro-text ul {
        margin: 10px 0 15px 20px;
        list-style-type: disc;
      }

      .intro-text li {
        margin-bottom: 8px;
      }

      .intro-text .highlight {
        background-color: #fff3cd;
        padding: 15px;
        border-left: 4px solid #ffc107;
        margin: 15px 0;
        border-radius: 4px;
      }

      .intro-text .important {
        background-color: #f8d7da;
        padding: 15px;
        border-left: 4px solid #dc3545;
        margin: 15px 0;
        border-radius: 4px;
      }

      .intro-text .success {
        background-color: #d4edda;
        padding: 15px;
        border-left: 4px solid #28a745;
        margin: 15px 0;
        border-radius: 4px;
      }

      .controls {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 20px;
        gap: 10px;
      }

      .reverse-button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        font-size: 1em;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .reverse-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
      }

      .reverse-button:active {
        transform: translateY(0);
      }

      .reverse-icon {
        font-size: 1.2em;
        transition: transform 0.3s;
      }

      .reverse-button.reversed .reverse-icon {
        transform: rotate(180deg);
      }

      .podcast-section {
        max-width: 900px;
        margin: 30px auto;
        padding: 20px;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .podcast-title {
        color: #667eea;
        margin-bottom: 15px;
        font-size: 1.4em;
        font-weight: 600;
      }

      .podcast-description {
        color: #666;
        margin-bottom: 20px;
        line-height: 1.6;
        font-size: 0.95em;
      }

      .audio-player {
        width: 100%;
        max-width: 500px;
        margin: 0 auto;
        outline: none;
      }

      .audio-player::-webkit-media-controls-panel {
        background-color: #f8f9fa;
        border-radius: 8px;
      }

      .section-title {
        font-size: 1.8em;
        color: #2c3e50;
        margin: 30px 0 0 0;
        padding: 15px 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 8px 8px 0 0;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        text-align: center;
        font-weight: bold;
      }

      .section-title:first-child {
        margin-top: 0;
      }

      .section-subtitle {
        font-size: 1.1em;
        color: white;
        padding: 12px 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 0 0 8px 8px;
        margin-bottom: 20px;
        text-align: center;
        font-style: italic;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      }

      .section-title + .section-subtitle {
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
      }

      .day-section {
        margin-bottom: 25px;
        background-color: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .day-header {
        font-size: 1em;
        color: #2c3e50;
        margin-bottom: 12px;
        padding-bottom: 8px;
        border-bottom: 2px solid #3498db;
      }

      .images-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 10px;
      }

      .image-card {
        background-color: #fff;
        border-radius: 6px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .image-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
      }

      .image-info {
        padding: 8px 10px;
        background-color: #f8f9fa;
        text-align: center;
      }

      .image-filename {
        font-weight: bold;
        color: #2c3e50;
        font-size: 0.8em;
        margin-bottom: 3px;
      }

      .image-day {
        color: #7f8c8d;
        font-size: 0.75em;
      }

      .image-card img {
        width: 100%;
        height: 220px;
        object-fit: contain;
        display: block;
        cursor: pointer;
        background-color: #f0f0f0;
      }

      /* Lightbox styles */
      .lightbox {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        align-items: center;
        justify-content: center;
      }

      .lightbox.active {
        display: flex;
      }

      .lightbox-content {
        max-width: 100%;
        max-height: calc(90vh - 100px);
        object-fit: contain;
        display: block;
        transition: max-width 0.3s ease, max-height 0.3s ease;
      }

      .lightbox-content {
        cursor: zoom-in;
      }

      .lightbox-content.zoomed {
        max-width: none;
        max-height: none;
        width: auto;
        height: auto;
        cursor: grab;
        user-select: none;
        pointer-events: auto;
      }

      .lightbox-content.zoomed:active {
        cursor: grabbing;
      }

      .lightbox-close {
        position: absolute;
        top: 20px;
        right: 40px;
        color: white;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s;
        z-index: 1002;
      }

      .lightbox-close:hover {
        color: #3498db;
      }

      .lightbox-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        max-width: 85%;
        max-height: 90vh;
        pointer-events: none;
      }

      .lightbox-container.zoomed {
        max-width: 90%;
        max-height: 85vh;
        overflow: auto;
        align-items: flex-start;
        justify-content: flex-start;
        pointer-events: auto;
      }

      .lightbox-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: white;
        font-size: 50px;
        font-weight: bold;
        cursor: pointer;
        padding: 20px;
        user-select: none;
        transition: color 0.3s, background-color 0.3s;
        z-index: 1002;
        background-color: rgba(0, 0, 0, 0.3);
        border-radius: 5px;
      }

      .lightbox-arrow:hover {
        color: #3498db;
        background-color: rgba(0, 0, 0, 0.6);
      }

      .lightbox-prev {
        left: 20px;
      }

      .lightbox-next {
        right: 20px;
      }

      .lightbox-zoom-icon {
        position: absolute;
        bottom: 30px;
        right: 30px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        cursor: pointer;
        z-index: 1002;
        transition: all 0.3s ease;
        border: 2px solid rgba(255, 255, 255, 0.5);
      }

      .lightbox-zoom-icon:hover {
        background-color: rgba(52, 152, 219, 0.9);
        transform: scale(1.1);
        border-color: white;
      }

      .lightbox-zoom-icon:active {
        transform: scale(0.95);
      }

      .zoom-controls {
        position: absolute;
        bottom: 90px;
        right: 30px;
        display: none;
        flex-direction: column;
        gap: 10px;
        z-index: 1002;
      }

      .zoom-controls.active {
        display: flex;
      }

      .zoom-control-btn {
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid rgba(255, 255, 255, 0.5);
        user-select: none;
      }

      .zoom-control-btn:hover {
        background-color: rgba(52, 152, 219, 0.9);
        transform: scale(1.1);
        border-color: white;
      }

      .zoom-control-btn:active {
        transform: scale(0.95);
      }

      .lightbox-info {
        background-color: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        margin-top: 15px;
        text-align: center;
        min-width: 300px;
        pointer-events: auto;
        flex-shrink: 0;
      }

      .lightbox-filename {
        font-weight: bold;
        font-size: 1.1em;
        margin-bottom: 5px;
      }

      .lightbox-day {
        font-size: 0.95em;
        color: #ddd;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        h1 {
          font-size: 1.8em;
        }

        .reverse-button {
          font-size: 0.9em;
          padding: 8px 16px;
        }

        .section-title {
          font-size: 1.5em;
          padding: 12px 15px;
          margin: 20px 0 0 0;
        }

        .section-subtitle {
          font-size: 1em;
          padding: 10px 15px;
          margin-bottom: 15px;
        }

        .day-header {
          font-size: 1.4em;
        }

        .images-row {
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 8px;
        }

        .image-card img {
          height: 180px;
        }

        .day-section {
          padding: 10px;
        }
      }

      @media (max-width: 480px) {
        body {
          padding: 10px;
        }

        .images-row {
          grid-template-columns: 1fr;
        }

        .lightbox-arrow {
          font-size: 35px;
          padding: 10px;
        }

        .lightbox-prev {
          left: 5px;
        }

        .lightbox-next {
          right: 5px;
        }

        .lightbox-close {
          right: 10px;
          font-size: 30px;
        }

        .lightbox-zoom-icon {
          bottom: 20px;
          right: 20px;
          width: 45px;
          height: 45px;
          font-size: 20px;
        }

        .zoom-controls {
          bottom: 75px;
          right: 20px;
        }

        .zoom-control-btn {
          width: 45px;
          height: 45px;
          font-size: 24px;
        }

        .lightbox-container {
          max-width: 95%;
        }
      }

      /* Gallery toggle styles */
      .gallery-toggle {
        max-width: 900px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff8dc;
        border: 2px solid #ffc107;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .gallery-checkbox-container {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 15px;
      }

      .gallery-checkbox {
        width: 20px;
        height: 20px;
        margin-top: 2px;
        cursor: pointer;
        accent-color: #667eea;
      }

      .gallery-checkbox-label {
        font-size: 1.1em;
        font-weight: bold;
        color: #333;
        cursor: pointer;
        -webkit-user-select: none;
        user-select: none;
        flex: 1;
      }

      .gallery-warning {
        color: #d63384;
        font-size: 0.95em;
        line-height: 1.4;
        margin-top: 10px;
      }

      .gallery-warning strong {
        color: #c02952;
      }

      .gallery-content {
        display: none;
      }

      .gallery-content.visible {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Oneskoren√© hojenie perian√°lneho abscesu</h1>

      <!-- Podcast Section -->
      <div class="podcast-section">
        <p class="podcast-description">
          Poƒç√∫vajte zauj√≠mav√Ω AI generovan√Ω podcast, v ktorom je diskutovan√Ω tento pr√≠beh.
        </p>
        <audio class="audio-player" controls>
          <source src="assets/podcast.m4a" type="audio/mp4">
          V√°≈° prehliadaƒç nepodporuje audio element.
        </audio>
      </div>

      <div class="intro-text">
        <p>
          Tento pr√≠beh zaƒç√≠na po takmer <strong>4 mesiacoch</strong> od vzniku
          perian√°lneho abscesu a jeho oneskoren√©ho hojenia. Zaƒçiatkom j√∫la mi
          chirurg spravil inc√≠ziu a dren√°≈æ abscesu, ƒço v≈°ak neviedlo k
          oƒçak√°van√Ωm v√Ωsledkom. Po asi 3 t√Ω≈æd≈àoch ma in√Ω chirurg (lebo takto to
          v na tej poliklinike chod√≠) poslal domov s t√Ωm, ≈æe je rana uzavret√°.
          Rana ale nebola v√¥bec uzavret√°, naƒèalej sa tvoril v√Ωtok a rana sa
          nehojila. Tak som nav≈°t√≠vil s√∫kromn√∫ proktologick√∫ ambulanciu.
        </p>

        <p>
          Tam mi doktor zistil, ≈æe nielen ≈æe rana nie je uzavret√°, ale navy≈°e
          tam e≈°te st√°le v≈°etko nevytieklo, ƒço malo. Tak mi nasadil ƒèal≈°ie ATB a
          odporuƒçil 2√ó denne Gafrovo-ichtiolov√∫ mas≈•. Po ƒèal≈°√≠ch 3 t√Ω≈æd≈àoch pri
          kontrole skon≈°tatoval, ≈æe u≈æ v≈°etko, ƒço tam bolo, vytieklo a u≈æ treba
          len zahoji≈• ranu, lebo tam st√°le bol mal√Ω v√Ωtok. Tak mi nasadil ƒèal≈°ie
          ATB a op√§≈• rovnako mas≈• na g√°zu.
        </p>

        <p>
          Je d√¥le≈æit√© uvies≈•, ≈æe m√¥j proktol√≥g na troch samostatn√Ωch
          vy≈°etreniach, vr√°tane pohmatu a sond√°≈æe, vyl√∫ƒçil pr√≠tomnos≈• fistuly.
          To bola d√¥le≈æit√° inform√°cia, lebo nehojace sa perian√°lne rany sa ƒçasto
          s fistulou sp√°jaj√∫.
        </p>
        <p>
          September a≈æ okt√≥ber: Kontroly ukazovali, ≈æe sa rana st√°le nehoj√≠.
          Dostal som ƒèal≈°ie a ƒèal≈°ie ATB s rovnakou mas≈•ou. Nakoniec doktor
          povedal, ≈æe treba spravi≈• u v≈°eobecn√©ho lek√°ra v√Ωter a podƒæa toho
          nasadi≈• ATB.
        </p>

        <p>
          V√Ωsledok v√Ωteru: Okrem in√Ωch be≈æne pr√≠tomn√Ωch bakt√©ri√≠ v perian√°lnej
          oblasti sa zistil aj <strong>zlat√Ω stafylokok</strong>. M√¥j v≈°eobecn√Ω
          lek√°r mi predp√≠sal ƒèal≈°ie ATB, v porad√≠ 4. Po dobran√≠ ATB a op√§tovnom
          v√Ωtere sa op√§≈• zistil zlat√Ω stafylokok. V≈°eobecn√Ω lek√°r povedal, ≈æe on
          nevie, ƒço s t√Ωm, ≈æe sa m√°m obr√°ti≈• na toho proktol√≥ga. Tomu som volal,
          aby som mu to povedal, lebo som u≈æ bol z toho z√∫fal√Ω. Ten mi povedal,
          ≈æe treba ƒèal≈°ie ATB (<strong>piate v porad√≠</strong>).
        </p>

        <p>
          To som si u≈æ povedal, ≈æe to nie je mo≈æn√©, a zaƒçal som sk√∫ma≈•
          alternat√≠vne rie≈°enia. Literat√∫ra hovor√≠, ≈æe ATB by sa mali
          predpisova≈• v pr√≠pade skutoƒçnej syst√©movej infekcie. V mojom pr√≠pade
          tam ale syst√©movo nebolo zisten√© niƒç, dokonca aj CRP krvi √∫plne v
          norme aj celkov√Ω krvn√Ω obraz.
        </p>

        <p>
          Tak som ≈°tudoval ƒèalej a zistil som, ≈æe zlat√Ω stafylokok je be≈æn√Ω
          bakteri√°lny druh, ktor√Ω sa nach√°dza na ko≈æi a slizniciach. Av≈°ak ak si
          vytvor√≠ biofilm, m√¥≈æe sp√¥sobi≈• chronick√∫ infekciu, ktor√° je odoln√°
          voƒçi ATB. No a tu mi suseda lek√°rniƒçka poradila, aby som sk√∫sil
          <strong>lok√°lnu lieƒçbu striebrom a kyselinou hyalur√≥novou</strong>,
          ktor√© s√∫ zn√°me svojimi antibakteri√°lnymi a hojiv√Ωmi vlastnos≈•ami.
        </p>

        <div class="success">
          <strong>Prv√Ω pozit√≠vny progres:</strong> Ranu som zaƒçal o≈°etrova≈•
          lok√°lne, a hneƒè po prvom pou≈æit√≠ vznikol zlatist√Ω v√Ωtok, ƒço je zn√°mka,
          ≈æe striebro zaƒçalo zabera≈• na zlat√©ho stafylokoka. Postupne sa rana
          zaƒçala ƒçisti≈• a v√Ωtok menil farbu z jant√°rov√©ho na ru≈æov√∫, ƒço je u≈æ
          zn√°mka tvorby nov√©ho tkaniva - <strong>granul√°cie</strong>.
        </div>

        <p>
          N√°sledne som sa doƒç√≠tal, ≈æe existuje pojem
          <strong>pozastaven√© hojenie rany</strong>. K tomu doch√°dza, keƒè sa
          rana ƒçist√≠ a telo sa sna≈æ√≠ vytvori≈• nov√© tkanivo, ale nie je schopn√©
          dokonƒçi≈• proces hojenia napr. kv√¥li bakteri√°lnej z√°≈•a≈æi alebo
          mechanick√©mu dr√°≈ædeniu rany. Preto je d√¥le≈æit√© minimalizova≈• v≈°etky
          faktory, ktor√© m√¥≈æu proces hojenia nar√∫≈°a≈•.
        </p>

        <div class="important">
          <p>
            <strong
              >Pri perian√°lnych ran√°ch je veƒæmi d√¥le≈æit√© nep√¥sobi≈• na ranu
              tlakom a minimalizova≈•:</strong
            >
          </p>
          <ul>
            <li>Sedenie</li>
            <li>Potenie</li>
            <li>Trenie</li>
            <li>Tlaky</li>
          </ul>
        </div>

        <p>
          Toto mi ≈æiaƒæ m√¥j proktol√≥g nikdy nepovedal a z nezn√°meho d√¥vodu ma
          dokonca povzbudzoval, ≈æe m√¥≈æem robi≈• √∫plne v≈°etko. Spom√≠nam si, ako sa
          ƒçudoval, keƒè som mu povedal, ≈æe chirurg, ktor√Ω mi robil dren√°≈æ, mi
          odpor√∫ƒçal nesedie≈•. Dokonca, ≈æe m√¥≈æem √≠s≈• aj do mora. Tak som si
          uvedomil, ≈æe ja som si vlastne pozastavil hojenie s√°m, preto≈æe:
        </p>

        <ul>
          <li>
            <strong>August</strong> - dovolenka pri mori - tu som bol aspo≈à
            opatrn√Ω, ≈æe som nezliezol do mora, aby sa mi tam nedostal piesok.
            Ale rana bola st√°le prepoten√°, bylo stra≈°ne teplo cel√© dni aj v
            noci.
          </li>
          <li>
            <strong>September</strong> - home office, nadƒçasy, nekoneƒçn√© sedenie
            na stoliƒçke - z√°sadn√° chyba, podƒæa literat√∫ry,
            <strong
              >kƒæ√∫ƒçov√° vec je nesedie≈• alebo minimalizova≈• sedenie pri hojen√≠
              rany v tejto oblasti</strong
            >
          </li>
          <li>
            <strong>Okt√≥ber</strong> - podobne home office, st√°le ATB a
            gafrovo-ichtiolov√° mas≈•
          </li>
        </ul>

        <p>
          Koncom okt√≥bra som to zobral do vlastn√Ωch r√∫k a prestal som sa √∫plne
          spolieha≈• na lek√°rov. Postupne som zistil, ≈æe existuj√∫ 2 sp√¥soby, ako
          hoji≈• ranu:
        </p>

        <div class="highlight">
          <p>
            <strong>Vlhk√© hojenie rany</strong> - rana sa udr≈æiava vlhk√° pomocou
            ≈°peci√°lnych mast√≠ a obkladov, ƒço podporuje tvorbu nov√©ho tkaniva a
            zabra≈àuje tvorbe strupov
          </p>
          <p>
            <strong>Such√© hojenie rany</strong> - rana sa nech√°va na vzduchu
            alebo sa prikr√Ωva such√Ωmi obkladmi, ƒço podporuje tvorbu strupov a
            chr√°ni ranu pred vonkaj≈°√≠mi vplyvmi
          </p>
        </div>

        <p>
          Pri perian√°lnych ran√°ch je zlat√Ωm ≈°tandardom pr√°ve
          <strong>vlhk√© hojenie rany</strong>. ≈Ωiadne vetranie na sucho a
          ƒçakanie na chrastu. T√° sa vie v tejto oblasti veƒæmi ƒæahko naru≈°i≈•.
          Tak≈æe ≈æiadna such√° g√°za, ale vytv√°ra≈• vlhk√© (nie mokr√©) prostredie,
          k√Ωm sa nedosiahne granul√°cia (rast tkaniva) a zaƒçne sa tvori≈• epitel
          (tenk√° vrstva, ktor√° prekryje tkanivo).
        </p>

        <p>
          Vtedy je mo≈æn√© prejs≈• na such√© hojenie rany, aby sa podporila tvorba
          strupu a dokonƒçilo sa hojenie. St√°le treba ranu chr√°ni≈•, napr. pomocou
          paraf√≠novej n√°plasti <strong>Grassolind neutral</strong>. T√° br√°ni
          prilepnutiu rany na n√°plas≈• a z√°rove≈à udr≈æiava ranu such√∫.
        </p>

        <p>
          Tak≈æe som doslova prestal sedie≈• (a aj le≈æa≈• na chrbte, aby som
          netlaƒçil na ranu), zaƒçal som pou≈æ√≠va≈• kyselinu hyaluronov√∫ so
          striebrom (<strong>Ialugen plus</strong>) na vlhk√© hojenie rany, a
          rana sa zaƒçala koneƒçne ƒçisti≈• a hoji≈•. Postupne sa v√Ωtok zmen≈°oval a
          menil farbu z jant√°rov√©ho na ru≈æov√∫, ƒço je zn√°mka tvorby nov√©ho
          tkaniva - granul√°cie. Vtedy som prv√Ωkr√°t videl, ≈æe sa nieƒço re√°lne
          deje. Dovtedy sa rana len donekoneƒçna ƒçistila, st√°le len
          ≈ælto-jant√°rov√Ω v√Ωtok. Keƒè sa rana zaƒçala uzatv√°ra≈• a v√Ωtok
          minimalizoval, pre≈°iel som na such√© hojenie rany pomocou paraf√≠novej
          n√°plasti Grassolind neutral. Zatiaƒæ st√°le bojujem s t√Ωm, ≈æe epitel
          e≈°te nie je √∫plne zrel√Ω a ƒæahko sa po≈°kodzuje.
        </p>

        <p>
          Naposledy som pri≈°iel na to, ≈æe aj silnej≈°√≠ pr√∫d vody dok√°≈æe jemn√Ω
          povrchov√Ω epitel naru≈°i≈• a rane trv√° asi t√Ω≈æde≈à, k√Ωm sa to op√§≈• vr√°ti.
          Rovnako treba sprchova≈• len v podrepe, nikdy nie v drepe aby sa rana
          nenaru≈°ila. Je to doslova niekedy ako nekoneƒçn√Ω pr√≠beh.
        </p>
        <p></p>

        <p>
          Hojenie takejto rany nie je line√°rne. Raz je v√Ωtoku viac, raz menej.
          Je treba sledova≈• celkov√Ω trend nie v√Ωtok za jeden de≈à.
        </p>

        <p>
          T√°to ƒças≈• m√¥jho ≈æivota ma stoj√≠ veƒæmi veƒæa psychick√Ωch s√≠l a
          trpezlivosti. Postupne sem prid√°vam fotodokument√°ciu z hojenia. Mo≈æno
          to pom√¥≈æe niekomu in√©mu v podobnej situ√°cii. Aj ja by som bol r√°d,
          keby som mal nieƒço tak√© k dispoz√≠cii, keƒè som to potreboval.
        </p>

        <i>MK</i>
      </div>

      <div class="gallery-toggle">
        <div class="gallery-checkbox-container">
          <input type="checkbox" id="galleryCheckbox" class="gallery-checkbox">
          <label for="galleryCheckbox" class="gallery-checkbox-label">Zobrazi≈• fotogal√©riu</label>
        </div>
        <div class="gallery-warning">
          <strong>‚ö†Ô∏è Upozornenie na citliv√Ω obsah:</strong> Fotogal√©ria obsahuje fotografie hojenia perian√°lnej rany, ktor√© m√¥≈æu by≈• pre niektor√Ωch ƒæud√≠ znepokojuj√∫ce alebo nepr√≠jemn√©. Kliknut√≠m na checkbox potvrdzujete, ≈æe chcete zobrazi≈• tento obsah.
        </div>
      </div>

      <div class="gallery-content" id="galleryContent">
        <div class="controls">
        <button class="reverse-button" id="reverseButton">
          <span class="reverse-icon">‚Üì</span>
          <span id="orderText">Najnov≈°ie prv√©</span>
        </button>
        </div>
        <div id="gallery"></div>
      </div>
    </div>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox">
      <span class="lightbox-close">&times;</span>
      <span class="lightbox-zoom-icon" id="zoom-icon" title="Zoom origin√°l"
        >üîç</span
      >
      <div class="zoom-controls" id="zoom-controls">
        <div class="zoom-control-btn" id="zoom-in-btn" title="Zv√§ƒç≈°i≈•">+</div>
        <div class="zoom-control-btn" id="zoom-out-btn" title="Zmen≈°i≈•">‚àí</div>
      </div>
      <span class="lightbox-arrow lightbox-prev">&#10094;</span>
      <span class="lightbox-arrow lightbox-next">&#10095;</span>
      <div class="lightbox-container" id="lightbox-container">
        <img class="lightbox-content" id="lightbox-img" />
        <div class="lightbox-info">
          <div class="lightbox-filename" id="lightbox-filename"></div>
          <div class="lightbox-day" id="lightbox-day"></div>
        </div>
      </div>
    </div>

    <script>
      // Cookie functionality
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(";").shift();
        return null;
      }

      function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
        const expires = `expires=${date.toUTCString()}`;
        document.cookie = `${name}=${value};${expires};path=/`;
      }

      // Gallery toggle functionality
      function initializeGalleryToggle() {
        const checkbox = document.getElementById('galleryCheckbox');
        const galleryContent = document.getElementById('galleryContent');
        const showGallery = getCookie('showGallery');
        
        // Restore previous state from cookie
        if (showGallery === 'true') {
          checkbox.checked = true;
          galleryContent.classList.add('visible');
        }
        
        // Add event listener for checkbox changes
        checkbox.addEventListener('change', function() {
          if (this.checked) {
            galleryContent.classList.add('visible');
            setCookie('showGallery', 'true', 30); // Cookie valid for 30 days
          } else {
            galleryContent.classList.remove('visible');
            setCookie('showGallery', 'false', 30);
          }
        });
      }

      // Initialize gallery toggle when page loads
      window.addEventListener("DOMContentLoaded", initializeGalleryToggle);

      // Image data
      const images = [
        "20251015_190117.jpg",
        "20251016_110405.jpg",
        "20251016_145139.jpg",
        "20251017_092841.jpg",
        "20251017_141008.jpg",
        "20251017_194918.jpg",
        "20251017_222253.jpg",
        "20251018_095035.jpg",
        "20251018_142000.jpg",
        "20251018_200525.jpg",
        "20251019_074416.jpg",
        "20251019_101034.jpg",
        "20251019_135620.jpg",
        "20251019_172239.jpg",
        "20251019_184412.jpg",
        "20251020_070809.jpg",
        "20251020_084744.jpg",
        "20251020_111004.jpg",
        "20251020_143357.jpg",
        "20251020_151810.jpg",
        "20251021_072617.jpg",
        "20251021_075656.jpg",
        "20251021_142233.jpg",
        "20251021_202035.jpg",
        "20251021_220302.jpg",
        "20251022_085005.jpg",
        "20251022_102606.jpg",
        "20251022_103404.jpg",
        "20251022_111954.jpg",
        "20251022_135850.jpg",
        "20251022_173531.jpg",
        "20251022_191351.jpg",
        "20251022_223050.jpg",
        "20251023_055444.jpg",
        "20251023_081115.jpg",
        "20251023_110236.jpg",
        "20251023_115923.jpg",
        "20251023_143145.jpg",
        "20251023_163643.jpg",
        "20251023_191202.jpg",
        "20251024_074849.jpg",
        "20251024_105544.jpg",
        "20251024_165448.jpg",
        "20251024_190953.jpg",
        "20251025_071716.jpg",
        "20251025_094948.jpg",
        "20251025_155336.jpg",
        "20251025_204047.jpg",
        "20251026_055327.jpg",
        "20251026_075246.jpg",
        "20251026_155339.jpg",
        "20251026_211824.jpg",
        "20251027_060237.jpg",
        "20251027_114800.jpg",
        "20251027_203839.jpg",
        "20251027_203926.jpg",
        "20251028_071402.jpg",
        "20251028_114129.jpg",
        "20251028_171458.jpg",
        "20251029_072130.jpg",
        "20251029_165518.jpg",
        "20251029_222340.jpg",
        "20251030_071750.jpg",
        "20251030_144815.jpg",
        "20251030_221348.jpg",
        "20251031_101254.jpg",
        "20251031_165158.jpg",
        "20251031_222940.jpg",
        "20251101_093822.jpg",
        "20251101_143419.jpg",
        "20251101_221504.jpg",
        "20251102_100900.jpg",
        "20251102_152135.jpg",
        "20251102_205235.jpg",
        "20251103_080352.jpg",
        "20251103_104859.jpg",
        "20251103_174440.jpg",
        "20251103_221623.jpg",
        "20251104_073316.jpg",
        "20251104_143841.jpg",
        "20251104_221217.jpg",
        "20251105_090402.jpg",
        "20251105_170045.jpg",
        "20251105_220438.jpg",
        "20251106_080953.jpg",
        "20251106_150043.jpg",
        "20251106_221747.jpg",
        "20251107_071418.jpg",
        "20251107_113754.jpg",
        "20251107_204007.jpg",
        "20251108_073702.jpg",
        "20251108_155717.jpg",
        "20251108_225625.jpg",
        "20251109_103339.jpg",
        "20251109_105738.png",
        "20251109_105839.jpg",
        "20251109_201616.jpg",
        "20251110_074541.jpg",
        "20251110_103251.jpg",
        "20251110_212728.jpg",
        "20251111_071349.jpg",
        "20251111_161635.jpg",
        "20251111_221757.jpg",
        "20251112_114401.jpg",
        "20251112_221336.jpg",
        "20251113_072720.jpg",
        "20251113_195808.jpg",
        "20251114_104952.jpg",
        "20251114_162611.jpg",
        "20251114_220747.jpg",
        "20251115_112540.jpg",
        "20251116_094456.jpg",
        "20251117_115638.jpg",
        "20251117_221622.jpg",
        "20251118_083136.jpg",
        "20251118_101425.jpg",
        "20251118_201629.jpg",
        "20251119_092851.jpg",
        "20251119_201200.jpg",
        "20251120_073353.jpg",
        "20251120_200309_centered.jpg",
        "20251121_085801.jpg",
        "20251121_203840_centered.jpg",
        "20251122_084910.jpg",
        "20251122_205301.jpg",
        "20251123_090406.jpg",
      ];

      // Slovak day names
      const slovakDays = [
        "nedeƒæa",
        "pondelok",
        "utorok",
        "streda",
        "≈°tvrtok",
        "piatok",
        "sobota",
      ];

      // Custom titles for specific dates (format: YYYYMMDD)
      const customTitles = {
        20251018:
          "Vyzeralo to sƒæubne, v√Ωtok sa zmen≈°oval, no zrazu jant√°rov√Ω v√Ωtok veƒçer a ten pokraƒçoval :(",
        20251019:
          "Nerv√≥zne som kontroloval niekoƒækokr√°t za de≈à a aj sprchoval po ka≈ædej kontrole",
        20251020:
          "Tu vidno, ako bola rana otvoren√°, ani n√°znak, ≈æe by sa to mohlo zatv√°ra≈•, okraje tmav√©",
        20251021:
          "Pri≈°iel zv√Ω≈°en√Ω v√Ωtok, zƒæakol som sa, ƒço to je. Asi ƒçistenie rany ...",
        20251023: "Sam√Ω jant√°r",
        20251024:
          "Po sprche som prilo≈æil such√∫ g√°zu a rana zanechala na g√°ze jasn√∫ krv.",
        20251025:
          "Rann√° g√°za bola zlatist√°, zjavne od stafylokoka, pokraƒçujem so striebrom a Grassolind neutral",
        20251026:
          "Rana sa zaƒç√≠na ƒçisti≈•. Hyalur√≥n by mal podpori≈• hojenie. Striebro by malo potlaƒçi≈• bakt√©rie",
        20251027:
          "Hyalur√≥n sp√¥sobuje zv√Ω≈°en√∫ tvorbu v√Ωtoku, rana sa ƒçist√≠, bada≈• jant√°rov√© ≈°kvrny a mal√© ƒçierne bodky",
        20251029:
          "V√Ωtok je viac a viac ru≈æov√Ω, zrejme sa re≈°tartovala tvorba tkaniva, granul√°cia",
        20251030:
          "V√Ωtok svetloru≈æov√Ω, vodnat√Ω, aj keƒè mazƒæav√Ω. To rob√≠ Hyalur√≥n.",
        20251103: "V√Ωtok sa zni≈æuje, aj keƒè e≈°te trochu ru≈æov√Ω",
        20251104:
          "Op√§≈• mierne zv√Ω≈°en√Ω v√Ωtok do ru≈æova veƒçer, uva≈æujem, ƒço rob√≠m zle",
        20251106:
          "R√°no skoro niƒç, veƒçer zv√Ω≈°en√Ω. ≈Ωe vraj norm√°lne, keƒè sa ƒçlovek pohybuje viac.",
        20251107:
          "Neviem, ƒço sa stalo, r√°no zv√Ω≈°en√Ω v√Ωtok s malou jant√°rovou stopou. Mo≈æno zaschnut√Ω fibr√≠n, neviem",
        20251109:
          "Podarilo sa mi odfoti≈• kvapku krvi na rane. Zrejme som trochu poru≈°il granul√°ciu, neviem.",
        20251110:
          "Rovnak√Ω vzor, r√°no menej, veƒçer viac v√Ωtoku. V√Ωtok riedky ≈æltkav√Ω",
        20251112:
          "Tu bada≈• kol√≠sanie v√Ωtoku. Zrazu veƒçer viac ako 2 dni predt√Ωm. ≈Ωe vraj je to norm√°lne.",
        20251114:
          "Tu to vyzer√° n√°dejne. Minim√°lny v√Ωtok r√°no aj veƒçer, aj keƒè trochu ru≈æovkav√Ω",
        20251115:
          "Nem√°m fotku z veƒçera, ale g√°za bola veƒçer such√° aj napriek v√≠kendu, kedy som mal viac pohybu",
        20251116: "To som e≈°te nemal. Rano aj veƒçer such√° g√°za !",
        20251117:
          "Zl√Ω de≈à, veƒçern√Ω v√Ωtok sa vr√°til do svetloru≈æova. Predpoklad√°m, ≈æe do≈°lo k poru≈°eniu epitelu :(. Nebada≈• hustej≈°√≠ v√Ωtok.",
        20251118:
          "Klasika, r√°no menej, veƒçer viac v√Ωtoku, v√Ωtok je mierne hustej≈°√≠ ≈æltkavo ru≈æov√Ω, zrejme z presakuj√∫cej krvi z nov√Ωch cievok v epitele",
        20251119: "Tu sa za cel√Ω de≈à niƒç nezmenilo, r√°no aj veƒçer takmer rovnako",
          20251121: "Dva dni po sebe r√°no aj veƒçer takmer identick√Ω v√Ωtok",
          20251122:"Veƒçer zv√Ω≈°en√Ω v√Ωtok, st√°le takmer riedky, ≈æltkavo-ru≈æov√Ω. Zd√° sa akoby bol len z ƒçasti rany pri polk√°ch. Tu sa to hoj√≠ najpomal≈°ie.",

          20251123: "R√°no podobn√Ω v√Ωtok ako vƒçera. Vyzeraj√∫ 2 len preto, lebo bola g√°za v mieste rany zlo≈æen√°"
      };

      // Section titles and subtitles - define sections by specifying images where they start
      // Each section will include all images from the start image until the next section starts
      // Use 'title' for the main heading and 'subtitle' for optional descriptive text
      const sections = {
        // Example:
        // '20251015_190117.jpg': { title: 'Initial Stage', subtitle: 'Documentation of initial condition' },
        // '20251020_070809.jpg': { title: 'Week 1 Progress', subtitle: 'Treatment response and healing' },
        "20251015_190117.jpg": {
          title: "Pokus o hojenie ≈æltou mas≈•ou",
          subtitle:
            "Zdalo sa, ≈æe v√Ωtok zaƒç√≠na meni≈• farbu, zaƒçalo prib√∫da≈• ru≈æovej, ƒço som doteraz nemal ani za viac ako 3 mesiace hojenia",
        },
        "20251025_071716.jpg": {
          title:
            "V√Ωter uk√°zal zlat√©ho stafylokoka. Prim√°rny lek√°r mi odpor√∫ƒça 5. ATB, zatiaƒæ som sk√∫≈°al 4 druhy, niƒç nezaberalo. Pok√∫≈°am sa to rie≈°i≈• lok√°lne len.",
          subtitle: `Rana je navonok pokojn√°. Bez bolesti. Na≈°a suseda lek√°rniƒçka poradila lok√°lnu mas≈• s hyalur√≥nom a striebrom - Ialugen plus. 
            `,
        },
        "20251031_101254.jpg": {
          title:
            "Pokrok po 1 t√Ω≈ædni s mas≈•ou Ialugen plus. Granul√°cia napreduje.",
          subtitle: "",
        },
        "20251109_103339.jpg": {
          title:
            "Rana m√° ru≈æov√© okraje, vyzer√° omnoho lep≈°ie ako pred 2 t√Ω≈æd≈àami, je mierne vyst√∫pen√°. Zaƒç√≠nam poci≈•ova≈• u≈°tipnutia a r√¥zne zvl√°≈°tne pocity v rane. ≈Ωe vraj je to t√Ωm, ≈æe nanovo vznikaj√∫ nervov√© spojenia, ƒço je dobr√© znamenie.",
          subtitle:
            "Neviem ako tam vznikla kvapka krvi, ƒçi pr√∫dom vody v sprche alebo drepom pri foten√≠, neviem :(.",
        },
        "20251107_071418.jpg": {
          title:
            "Prech√°dzam na hyalur√≥nov√∫ n√°plas≈• bez striebra, aby som minimalizoval z√°≈•a≈æ striebrom.",
        },
        "20251114_104952.jpg": {
          title:
            "Prech√°dzam na Grassolind neutral, u≈æ bez hyalur√≥nu ani striebra. K t√Ωm r√¥znym pocitom sa prid√°va ≈°teklenie v mieste rany",
          subtitle:
            "Pokrok za posledn√Ω t√Ω≈æde≈à, v√Ωtok je minim√°lny, zmen≈°il sa, aj keƒè e≈°te kol√≠≈°e",
        },
        "20251117_115638.jpg": {
          title: "Po≈°kodenie epitelu. Najpravdepodobnej≈°ie pri sprchovani.",
          subtitle:
            "Zis≈•ujem, ≈æe rana sa nesmie sprchova≈• pr√∫dom vody z boku, lebo to m√¥≈æe naru≈°i≈• epitel. To sa aj zrejme stalo :(",
        },
        // You can omit subtitle if not needed:
        // '20251030_071750.jpg': { title: 'Week 3 Progress' },
      };

      // Parse filename to get date and day name
      function parseImageDate(filename) {
        const dateStr = filename.substring(0, 8);
        const timeStr = filename.substring(9, 15);
        const year = dateStr.substring(0, 4);
        const month = dateStr.substring(4, 6);
        const day = dateStr.substring(6, 8);
        const hour = timeStr.substring(0, 2);
        const minute = timeStr.substring(2, 4);

        const date = new Date(year, month - 1, day);
        const dayName = slovakDays[date.getDay()];

        return {
          date: date,
          dateStr: `${day}.${month}.${year}`,
          dayName: dayName,
          time: `${hour}:${minute}`,
          sortKey: dateStr,
        };
      }

      // Group images by day
      function groupImagesByDay() {
        const grouped = {};

        images.forEach((img) => {
          const info = parseImageDate(img);
          if (!grouped[info.sortKey]) {
            grouped[info.sortKey] = {
              dateStr: info.dateStr,
              dayName: info.dayName,
              images: [],
            };
          }
          grouped[info.sortKey].images.push(img);
        });

        return grouped;
      }

      // Gallery order state
      let isReversed = false;

      // Create gallery HTML
      function createGallery() {
        const gallery = document.getElementById("gallery");
        gallery.innerHTML = ""; // Clear existing content
        const grouped = groupImagesByDay();

        // Sort by date (descending - newest first, or ascending if reversed)
        let sortedDays = Object.keys(grouped).sort();
        if (!isReversed) {
          sortedDays = sortedDays.reverse();
        }

        let currentSectionTitle = null;

        sortedDays.forEach((dayKey) => {
          const dayData = grouped[dayKey];

          // Check if any image in this day starts a new section
          dayData.images.forEach((img, index) => {
            if (sections[img]) {
              // Add section title
              const sectionTitleDiv = document.createElement("div");
              sectionTitleDiv.className = "section-title";
              sectionTitleDiv.textContent = sections[img].title;
              gallery.appendChild(sectionTitleDiv);
              currentSectionTitle = sections[img].title;

              // Add section subtitle if exists
              if (sections[img].subtitle) {
                const sectionSubtitleDiv = document.createElement("div");
                sectionSubtitleDiv.className = "section-subtitle";
                sectionSubtitleDiv.textContent = sections[img].subtitle;
                gallery.appendChild(sectionSubtitleDiv);
              }
            }

            // For first image of the day, create day section
            if (index === 0) {
              const section = document.createElement("div");
              section.className = "day-section";

              const header = document.createElement("div");
              header.className = "day-header";
              const customTitle = customTitles[dayKey]
                ? ` - ${customTitles[dayKey]}`
                : "";
              header.textContent = `${
                dayData.dayName.charAt(0).toUpperCase() +
                dayData.dayName.slice(1)
              } - ${dayData.dateStr}${customTitle}`;
              section.appendChild(header);

              const row = document.createElement("div");
              row.className = "images-row";
              section.appendChild(row);
              gallery.appendChild(section);
            }

            // Get the current row (last images-row in gallery)
            const allSections = gallery.querySelectorAll(".day-section");
            const currentSection = allSections[allSections.length - 1];
            const row = currentSection.querySelector(".images-row");

            const card = document.createElement("div");
            card.className = "image-card";

            const image = document.createElement("img");
            image.src = `photos/thumb/${img}`;
            image.alt = img;
            image.loading = "lazy";
            image.onclick = () => openLightbox(`${img}`);

            const info = document.createElement("div");
            info.className = "image-info";

            const imgInfo = parseImageDate(img);
            const dayInfo = document.createElement("div");
            dayInfo.className = "image-day";
            dayInfo.textContent = `${imgInfo.dayName}, ${imgInfo.time}`;

            info.appendChild(dayInfo);

            card.appendChild(image);
            card.appendChild(info);

            row.appendChild(card);
          });
        });
      }

      // Lightbox functionality
      let currentImageIndex = 0;
      let isZoomed = false;

      function openLightbox(src) {
        const filename = src.split("/").pop();
        currentImageIndex = images.indexOf(filename);
        isZoomed = false;
        showLightboxImage(currentImageIndex);
        document.getElementById("lightbox").classList.add("active");
      }

      function showLightboxImage(index) {
        if (index < 0) index = images.length - 1;
        if (index >= images.length) index = 0;

        currentImageIndex = index;
        const filename = images[index];
        const info = parseImageDate(filename);

        // Reset zoom when changing images
        isZoomed = false;
        updateZoomState();

        // Reset zoom icon
        const zoomIcon = document.getElementById("zoom-icon");
        zoomIcon.textContent = "üîç";
        zoomIcon.title = "Zoom origin√°l";

        const imgElement = document.getElementById("lightbox-img");
        imgElement.src = `photos/${filename}`;
        document.getElementById("lightbox-filename").textContent = filename;
        document.getElementById("lightbox-day").textContent = `${
          info.dayName.charAt(0).toUpperCase() + info.dayName.slice(1)
        } - ${info.dateStr}`;
      }

      function toggleZoom() {
        isZoomed = !isZoomed;
        updateZoomState();
      }

      let currentScale = 0.3;
      let originalWidth = 0;
      let originalHeight = 0;

      function updateZoomState() {
        const imgElement = document.getElementById("lightbox-img");
        const container = document.getElementById("lightbox-container");
        const zoomControls = document.getElementById("zoom-controls");
        const filename = images[currentImageIndex];

        if (isZoomed) {
          imgElement.src = `photos/${filename}`;
          imgElement.classList.add("zoomed");
          container.classList.add("zoomed");
          zoomControls.classList.add("active");
          currentScale = 0.3;

          // Wait for image to load and get its natural dimensions
          imgElement.onload = function () {
            originalWidth = this.naturalWidth;
            originalHeight = this.naturalHeight;
            applyScale();
          };

          container.scrollTop = 0;
          container.scrollLeft = 0;
        } else {
          imgElement.src = `photos/${filename}`;
          imgElement.classList.remove("zoomed");
          container.classList.remove("zoomed");
          zoomControls.classList.remove("active");
          currentScale = 0.3;
          imgElement.style.width = "";
          imgElement.style.height = "";
        }
      }

      function applyScale() {
        const imgElement = document.getElementById("lightbox-img");
        imgElement.style.width = originalWidth * currentScale + "px";
        imgElement.style.height = originalHeight * currentScale + "px";
      }

      // Drag to pan functionality
      let isDragging = false;
      let startX, startY, scrollLeft, scrollTop;

      const container = document.getElementById("lightbox-container");

      container.addEventListener("mousedown", function (e) {
        if (!isZoomed) return;
        const img = document.getElementById("lightbox-img");
        if (e.target !== img) return;

        isDragging = true;
        container.style.cursor = "grabbing";
        img.style.cursor = "grabbing";

        startX = e.pageX - container.offsetLeft;
        startY = e.pageY - container.offsetTop;
        scrollLeft = container.scrollLeft;
        scrollTop = container.scrollTop;

        e.preventDefault();
      });

      container.addEventListener("mouseleave", function () {
        if (isDragging) {
          isDragging = false;
          if (isZoomed) {
            container.style.cursor = "default";
            const img = document.getElementById("lightbox-img");
            img.style.cursor = "grab";
          }
        }
      });

      container.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          if (isZoomed) {
            container.style.cursor = "default";
            const img = document.getElementById("lightbox-img");
            img.style.cursor = "grab";
          }
        }
      });

      container.addEventListener("mousemove", function (e) {
        if (!isDragging) return;
        e.preventDefault();

        const x = e.pageX - container.offsetLeft;
        const y = e.pageY - container.offsetTop;
        const walkX = (x - startX) * 1.5;
        const walkY = (y - startY) * 1.5;

        container.scrollLeft = scrollLeft - walkX;
        container.scrollTop = scrollTop - walkY;
      });

      function closeLightbox() {
        document.getElementById("lightbox").classList.remove("active");
      }

      function nextImage() {
        showLightboxImage(currentImageIndex + 1);
      }

      function prevImage() {
        showLightboxImage(currentImageIndex - 1);
      }

      // Event listeners
      document.querySelector(".lightbox-close").onclick = function (e) {
        e.stopPropagation();
        closeLightbox();
      };

      document.querySelector(".lightbox-next").onclick = function (e) {
        e.stopPropagation();
        nextImage();
      };

      document.querySelector(".lightbox-prev").onclick = function (e) {
        e.stopPropagation();
        prevImage();
      };

      // Zoom icon click handler
      document.getElementById("zoom-icon").onclick = function (e) {
        e.stopPropagation();
        toggleZoom();
        // Update icon
        this.textContent = isZoomed ? "üîç‚àí" : "üîç";
        this.title = isZoomed ? "Zmen≈°i≈•" : "Zoom origin√°l";
      };

      // Zoom in button
      document.getElementById("zoom-in-btn").onclick = function (e) {
        e.stopPropagation();
        if (!isZoomed || originalWidth === 0) return;
        const container = document.getElementById("lightbox-container");

        // Store current center position relative to image
        const scrollCenterX =
          (container.scrollLeft + container.clientWidth / 2) / currentScale;
        const scrollCenterY =
          (container.scrollTop + container.clientHeight / 2) / currentScale;

        currentScale = Math.min(currentScale + 0.25, 3);
        applyScale();

        // Recalculate scroll position to keep the same point centered
        setTimeout(() => {
          container.scrollLeft =
            scrollCenterX * currentScale - container.clientWidth / 2;
          container.scrollTop =
            scrollCenterY * currentScale - container.clientHeight / 2;
        }, 10);
      };

      // Zoom out button
      document.getElementById("zoom-out-btn").onclick = function (e) {
        e.stopPropagation();
        if (!isZoomed || originalWidth === 0) return;
        const container = document.getElementById("lightbox-container");

        // Store current center position relative to image
        const scrollCenterX =
          (container.scrollLeft + container.clientWidth / 2) / currentScale;
        const scrollCenterY =
          (container.scrollTop + container.clientHeight / 2) / currentScale;

        currentScale = Math.max(currentScale - 0.25, 0.5);
        applyScale();

        // Recalculate scroll position to keep the same point centered
        setTimeout(() => {
          container.scrollLeft =
            scrollCenterX * currentScale - container.clientWidth / 2;
          container.scrollTop =
            scrollCenterY * currentScale - container.clientHeight / 2;
        }, 10);
      };

      // Lightbox can only be closed by clicking X button or pressing Escape
      // Removed background click to close functionality

      // Keyboard navigation
      document.addEventListener("keydown", function (e) {
        if (!document.getElementById("lightbox").classList.contains("active"))
          return;

        if (e.key === "ArrowRight") nextImage();
        if (e.key === "ArrowLeft") prevImage();
        if (e.key === "Escape") closeLightbox();
      });

      // Reverse order toggle
      document
        .getElementById("reverseButton")
        .addEventListener("click", function () {
          isReversed = !isReversed;
          this.classList.toggle("reversed");
          document.getElementById("orderText").textContent = isReversed
            ? "Najstar≈°ie prv√©"
            : "Najnov≈°ie prv√©";
          createGallery();
        });

      // Initialize gallery when DOM is loaded
      window.addEventListener("DOMContentLoaded", function() {
        createGallery();
      });
    </script>
  </body>
</html>
